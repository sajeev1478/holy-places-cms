<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Holy Dham{% endblock %} ‚Äì Sacred India</title>
<meta name="description" content="{% block meta_desc %}Discover India's most sacred dhams, temples, spiritual stories, and devotional content.{% endblock %}">
<link rel="manifest" href="/static/manifest.json">
<meta name="theme-color" content="#C76B8F">
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;600;700&family=Nunito+Sans:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--rose:#E8A0BF;--rose-deep:#C76B8F;--rose-pale:#F8E5EE;--rose-dark:#A04870;
--cream:#FDF8F3;--cream-dark:#F5ECE2;--cream-deep:#EAD9C6;
--saffron:#E89B4F;--sage:#8BAB8A;--sage-light:#D4E5D4;
--text-dark:#2D1F2E;--text-mid:#5A4A5B;--text-light:#8A7A8B;
--temple-gold:#C8A44E;--border:#E8DDD0;
--white:#FFFFFF;--shadow:rgba(45,31,46,.06);
}
html{scroll-behavior:smooth}
body{font-family:'Nunito Sans',sans-serif;background:var(--cream);color:var(--text-dark);overflow-x:hidden;line-height:1.6}
::selection{background:var(--rose);color:white}
a{color:var(--rose-deep);text-decoration:none;transition:color .3s}
a:hover{color:var(--rose-dark)}
img{max-width:100%;height:auto}

/* ‚îÄ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ */
header{position:fixed;top:0;left:0;right:0;z-index:100;transition:all .4s}
header.scrolled{background:rgba(253,248,243,.96);backdrop-filter:blur(20px);box-shadow:0 2px 40px var(--shadow)}
.header-inner{max-width:1300px;margin:0 auto;padding:16px 40px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-flower{font-size:28px}
.logo-text{font-family:'Josefin Sans',sans-serif;font-size:24px;color:var(--text-dark);font-weight:700}
.logo-text span{color:var(--rose-deep)}
nav{display:flex;align-items:center;gap:6px}
nav a{color:var(--text-mid);font-family:'Plus Jakarta Sans',sans-serif;font-size:14px;font-weight:500;padding:8px 14px;border-radius:8px;transition:all .2s}
nav a:hover,nav a.active{color:var(--rose-deep);background:var(--rose-pale)}
.nav-search{width:40px;height:40px;border:1px solid var(--border);border-radius:10px;background:white;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:14px;color:var(--text-light);transition:all .2s;margin-left:4px}
.nav-search:hover{border-color:var(--rose);color:var(--rose-deep)}
.mobile-toggle{display:none;background:none;border:none;font-size:24px;cursor:pointer;color:var(--text-dark)}

/* ‚îÄ‚îÄ‚îÄ Inline Nav Search ‚îÄ‚îÄ‚îÄ */
.nav-search-wrap{position:relative;margin-left:6px}
.nav-search-box{display:flex;align-items:center;gap:8px;background:white;border:1.5px solid var(--border);border-radius:50px;padding:6px 14px;transition:all .3s;min-width:200px}
.nav-search-box:focus-within{border-color:var(--rose);box-shadow:0 4px 20px rgba(199,107,143,.12);min-width:280px}
.nav-search-icon{font-size:13px;color:var(--text-light)}
.nav-search-input{border:none;outline:none;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;background:transparent;width:100%;color:var(--text-dark)}
.nav-search-input::placeholder{color:var(--text-light);font-size:12px}
.nav-search-kbd{font-size:10px;padding:1px 6px;background:var(--cream-dark);border:1px solid var(--border);border-radius:4px;color:var(--text-light);font-family:monospace;display:none}
.nav-search-box:focus-within .nav-search-kbd{display:inline}
.nav-search-results{position:absolute;top:calc(100% + 8px);left:0;right:0;min-width:360px;background:white;border-radius:16px;box-shadow:0 12px 48px rgba(0,0,0,.15);border:1px solid var(--border);display:none;max-height:420px;overflow-y:auto;z-index:200}
.nav-search-results.active{display:block}
.nsr-item{display:flex;gap:12px;padding:12px 16px;align-items:center;cursor:pointer;transition:background .15s;text-decoration:none;color:inherit;border-bottom:1px solid var(--cream-dark)}
.nsr-item:last-child{border-bottom:none}
.nsr-item:hover{background:var(--cream)}
.nsr-tier{font-size:9px;font-weight:700;letter-spacing:1px;padding:2px 8px;border-radius:50px;color:white;flex-shrink:0}
.nsr-title{font-family:'Josefin Sans',sans-serif;font-size:14px;font-weight:600}
.nsr-loc{font-size:11px;color:var(--text-light)}
.nsr-empty{padding:20px;text-align:center;color:var(--text-light);font-size:13px}

/* ‚îÄ‚îÄ‚îÄ Beautiful File Upload ‚îÄ‚îÄ‚îÄ */
input[type="file"]{position:relative;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text-mid)}
input[type="file"]::file-selector-button{background:linear-gradient(135deg,var(--rose-deep),var(--rose-dark));color:white;border:none;padding:8px 18px;border-radius:50px;font-family:'Plus Jakarta Sans',sans-serif;font-size:12px;font-weight:600;cursor:pointer;margin-right:12px;transition:all .25s;box-shadow:0 2px 8px rgba(199,107,143,.2)}
input[type="file"]::file-selector-button:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(199,107,143,.35)}

/* ‚îÄ‚îÄ‚îÄ Mobile Nav ‚îÄ‚îÄ‚îÄ */
.mobile-nav{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(253,248,243,.98);z-index:200;padding:80px 32px 32px;flex-direction:column;gap:8px}
.mobile-nav.open{display:flex}
.mobile-nav-close{position:absolute;top:20px;right:24px;background:none;border:none;font-size:28px;cursor:pointer;color:var(--text-dark)}
.mobile-nav a{font-family:'Plus Jakarta Sans',sans-serif;font-size:18px;font-weight:500;color:var(--text-dark);padding:14px 0;border-bottom:1px solid var(--border);display:block}

/* ‚îÄ‚îÄ‚îÄ Common ‚îÄ‚îÄ‚îÄ */
.container{max-width:1300px;margin:0 auto;padding:0 40px}
.section{padding:80px 0}
.section-header{margin-bottom:48px}
.section-tag{font-family:'Plus Jakarta Sans',sans-serif;font-size:12px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--rose-deep);margin-bottom:8px}
.section-title{font-family:'Josefin Sans',sans-serif;font-size:clamp(28px,3.5vw,42px);color:var(--text-dark)}
.section-desc{color:var(--text-mid);margin-top:8px;font-size:16px;max-width:540px}
.section-header-row{display:flex;justify-content:space-between;align-items:flex-end;flex-wrap:wrap;gap:16px}
.section-link{font-family:'Plus Jakarta Sans',sans-serif;font-size:14px;color:var(--rose-deep);font-weight:500;display:flex;align-items:center;gap:6px}
.section-link:hover{gap:10px}

/* ‚îÄ‚îÄ‚îÄ Buttons ‚îÄ‚îÄ‚îÄ */
.btn{display:inline-flex;align-items:center;gap:8px;padding:14px 32px;border-radius:50px;font-family:'Plus Jakarta Sans',sans-serif;font-size:15px;font-weight:500;border:none;cursor:pointer;transition:all .3s;text-decoration:none}
.btn-primary{background:var(--rose-deep);color:white;box-shadow:0 8px 30px rgba(199,107,143,.25)}
.btn-primary:hover{background:var(--rose-dark);transform:translateY(-2px);box-shadow:0 12px 40px rgba(199,107,143,.35);color:white}
.btn-secondary{background:white;color:var(--text-dark);border:2px solid var(--border)}
.btn-secondary:hover{border-color:var(--rose);color:var(--rose-deep)}
.btn-sm{padding:8px 20px;font-size:13px}

/* ‚îÄ‚îÄ‚îÄ Cards ‚îÄ‚îÄ‚îÄ */
.card{background:white;border-radius:20px;overflow:hidden;transition:all .4s;border:1px solid transparent}
.card:hover{transform:translateY(-6px);box-shadow:0 20px 60px var(--shadow);border-color:var(--rose-pale)}
.card-img{width:100%;aspect-ratio:4/3;position:relative;overflow:hidden;background:var(--cream-dark)}
.card-img img,.card-img-bg{width:100%;height:100%;object-fit:cover;transition:transform .6s}
.card:hover .card-img img,.card:hover .card-img-bg{transform:scale(1.05)}
.card-tag{position:absolute;top:16px;left:16px;background:white;border-radius:50px;padding:6px 14px;font-family:'Plus Jakarta Sans',sans-serif;font-size:11px;font-weight:600;color:var(--rose-deep)}
.card-body{padding:20px 24px}
.card-title{font-family:'Josefin Sans',sans-serif;font-size:20px;margin-bottom:6px}
.card-title a{color:var(--text-dark)}
.card-title a:hover{color:var(--rose-deep)}
.card-loc{font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text-light);display:flex;align-items:center;gap:4px;margin-bottom:12px}
.card-meta{display:flex;gap:14px;font-family:'Plus Jakarta Sans',sans-serif;font-size:12px;color:var(--text-light)}
.card-meta span{display:flex;align-items:center;gap:4px}

/* ‚îÄ‚îÄ‚îÄ Breadcrumb ‚îÄ‚îÄ‚îÄ */
.breadcrumb{font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text-light);padding:16px 0;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.breadcrumb a{color:var(--text-light)}
.breadcrumb a:hover{color:var(--rose-deep)}

/* ‚îÄ‚îÄ‚îÄ Category Pills ‚îÄ‚îÄ‚îÄ */
.pills{display:flex;gap:10px;flex-wrap:wrap}
.pill{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:white;border-radius:50px;white-space:nowrap;border:1px solid var(--border);font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;font-weight:500;color:var(--text-mid);cursor:pointer;transition:all .3s;text-decoration:none}
.pill:hover{border-color:var(--rose);color:var(--rose-deep);box-shadow:0 4px 20px rgba(199,107,143,.1)}
.pill.active{background:var(--rose-deep);color:white;border-color:var(--rose-deep)}
.pill .icon{font-size:16px}

/* ‚îÄ‚îÄ‚îÄ Audio Player ‚îÄ‚îÄ‚îÄ */
.audio-player{background:linear-gradient(135deg,var(--text-dark),#3D2D3E);border-radius:20px;padding:32px;color:white}
.audio-player h3{font-family:'Josefin Sans',sans-serif;font-size:20px;margin-bottom:4px}
.audio-player .artist{font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;opacity:.5;margin-bottom:16px}
.audio-progress{height:4px;background:rgba(255,255,255,.12);border-radius:4px;overflow:hidden;margin-bottom:6px}
.audio-progress-fill{height:100%;background:linear-gradient(90deg,var(--rose),var(--saffron));border-radius:4px}
.audio-times{display:flex;justify-content:space-between;font-family:'Plus Jakarta Sans',sans-serif;font-size:11px;opacity:.4;margin-bottom:16px}
.audio-controls{display:flex;gap:12px;align-items:center}
.audio-ctrl{width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,.06);border:none;color:white;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:14px}
.audio-ctrl:hover{background:rgba(255,255,255,.15)}
.audio-ctrl.play{width:48px;height:48px;background:var(--rose-deep);border-radius:12px;font-size:18px}

/* ‚îÄ‚îÄ‚îÄ Rich Content ‚îÄ‚îÄ‚îÄ */
.rich-content{font-size:17px;line-height:1.9;color:var(--text-mid)}
.rich-content h2{font-family:'Josefin Sans',sans-serif;font-size:28px;color:var(--text-dark);margin:32px 0 16px}
.rich-content h3{font-family:'Josefin Sans',sans-serif;font-size:22px;color:var(--text-dark);margin:28px 0 12px}
.rich-content p{margin-bottom:16px}
.rich-content img{border-radius:12px;margin:20px 0}
.rich-content blockquote{border-left:4px solid var(--rose);padding:16px 24px;background:var(--rose-pale);border-radius:0 12px 12px 0;margin:20px 0;font-style:italic;color:var(--text-dark)}
.rich-content ul,.rich-content ol{margin:12px 0 16px 24px}
.rich-content li{margin-bottom:6px}

/* ‚îÄ‚îÄ‚îÄ Share Buttons ‚îÄ‚îÄ‚îÄ */
.share-btns{display:flex;gap:8px;margin-top:24px}
.share-btn{width:40px;height:40px;border-radius:10px;background:var(--cream-dark);display:flex;align-items:center;justify-content:center;color:var(--text-mid);font-size:16px;transition:all .2s;border:none;cursor:pointer}
.share-btn:hover{background:var(--rose-pale);color:var(--rose-deep)}

/* ‚îÄ‚îÄ‚îÄ Footer ‚îÄ‚îÄ‚îÄ */
footer{padding:60px 0;background:var(--text-dark);color:rgba(255,255,255,.6)}
.footer-inner{max-width:1300px;margin:0 auto;padding:0 40px;display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:48px}
.footer-brand .flogo{font-family:'Josefin Sans',sans-serif;font-size:22px;color:white;margin-bottom:12px}
.footer-brand p{font-size:14px;line-height:1.7;max-width:280px}
.footer-col h4{font-family:'Plus Jakarta Sans',sans-serif;font-size:12px;letter-spacing:2px;text-transform:uppercase;color:var(--rose);margin-bottom:16px}
.footer-col a{display:block;color:rgba(255,255,255,.5);font-family:'Plus Jakarta Sans',sans-serif;font-size:14px;margin-bottom:10px;transition:color .3s}
.footer-col a:hover{color:var(--rose)}
.footer-bottom{max-width:1300px;margin:24px auto 0;padding:24px 40px 0;border-top:1px solid rgba(255,255,255,.08);display:flex;justify-content:space-between;font-family:'Plus Jakarta Sans',sans-serif;font-size:12px}

/* ‚îÄ‚îÄ‚îÄ Pagination ‚îÄ‚îÄ‚îÄ */
.pagination{display:flex;gap:6px;justify-content:center;margin-top:40px}
.pagination a,.pagination span{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Plus Jakarta Sans',sans-serif;font-size:14px;font-weight:500;border:1px solid var(--border);color:var(--text-mid);transition:all .2s}
.pagination a:hover{border-color:var(--rose);color:var(--rose-deep)}
.pagination .active{background:var(--rose-deep);color:white;border-color:var(--rose-deep)}

/* ‚îÄ‚îÄ‚îÄ Empty State ‚îÄ‚îÄ‚îÄ */
.empty-state{text-align:center;padding:60px 20px;color:var(--text-light)}
.empty-state .icon{font-size:48px;margin-bottom:16px;display:block}
.empty-state h3{font-family:'Josefin Sans',sans-serif;font-size:24px;color:var(--text-dark);margin-bottom:8px}

/* ‚îÄ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ‚îÄ */
@media(max-width:1024px){
.footer-inner{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:768px){
.header-inner{padding:14px 20px}
nav{display:none}
.mobile-toggle{display:block}
.container{padding:0 20px}
.section{padding:60px 0}
.footer-inner{grid-template-columns:1fr;gap:32px;padding:0 20px}
.footer-bottom{flex-direction:column;gap:8px;text-align:center;padding:20px 20px 0}
}
/* ‚ïê‚ïê‚ïê GALLERY SLIDER ‚Äî Beautiful transitions ‚ïê‚ïê‚ïê */
.gallery-slider{position:relative;width:100%;max-width:600px;border-radius:16px;overflow:hidden;background:linear-gradient(145deg,#141418,#1e1e24);box-shadow:0 12px 48px rgba(0,0,0,.18),0 4px 16px rgba(0,0,0,.08);margin:0 auto}
.gallery-slider .gs-track{position:relative;width:100%;aspect-ratio:16/10;overflow:hidden}
.gallery-slider .gs-slide{position:absolute;inset:0;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .9s cubic-bezier(.4,0,.2,1),transform 1.2s cubic-bezier(.4,0,.2,1);transform:scale(1.04)}
.gallery-slider .gs-slide.active{opacity:1;z-index:2;transform:scale(1)}
.gallery-slider .gs-slide.fade-out{opacity:0;z-index:1;transform:scale(.96)}
.gallery-slider .gs-slide.zoom-out{opacity:0;transform:scale(1.15)}
.gallery-slider .gs-slide.slide-left{opacity:0;transform:translateX(-6%) scale(.98)}
.gallery-slider .gs-slide.slide-right{opacity:0;transform:translateX(6%) scale(.98)}
.gallery-slider .gs-slide img{max-width:88%;max-height:88%;object-fit:contain;border-radius:10px;filter:drop-shadow(0 6px 20px rgba(0,0,0,.4));transition:transform .5s ease}
.gallery-slider:hover .gs-slide.active img{transform:scale(1.01)}
.gallery-slider .gs-nav{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:50%;background:rgba(255,255,255,.88);backdrop-filter:blur(10px);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10;box-shadow:0 3px 12px rgba(0,0,0,.2);transition:all .25s;font-size:16px;color:#333;opacity:.7}
.gallery-slider:hover .gs-nav{opacity:1}
.gallery-slider .gs-nav:hover{background:white;transform:translateY(-50%) scale(1.12);box-shadow:0 4px 16px rgba(0,0,0,.25)}
.gallery-slider .gs-prev{left:12px}
.gallery-slider .gs-next{right:12px}
.gallery-slider .gs-dots{display:flex;justify-content:center;gap:7px;padding:14px 0;background:linear-gradient(0deg,rgba(0,0,0,.5) 0%,transparent 100%);position:absolute;bottom:0;left:0;right:0;z-index:10}
.gallery-slider .gs-dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.35);cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);border:none}
.gallery-slider .gs-dot.active{background:white;transform:scale(1.4);box-shadow:0 0 8px rgba(255,255,255,.4)}
.gallery-slider .gs-counter{position:absolute;top:12px;right:12px;background:rgba(0,0,0,.55);backdrop-filter:blur(8px);color:white;font-size:11px;padding:5px 12px;border-radius:50px;z-index:10;font-family:'Plus Jakarta Sans',sans-serif;font-weight:600;letter-spacing:.5px}
/* Custom field display with icons */
.cf-grid{display:grid;gap:10px;margin-bottom:24px}
.cf-item{display:flex;align-items:center;gap:12px;padding:14px 18px;background:var(--cream-dark);border-radius:12px;font-family:'Plus Jakarta Sans',sans-serif;transition:all .2s}
.cf-item:hover{background:var(--cream);transform:translateX(2px)}
.cf-item .cf-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}
.cf-item .cf-label{font-size:12px;color:var(--text-light);font-weight:600;letter-spacing:.3px}
.cf-item .cf-value{font-size:14px;font-weight:600;color:var(--text-dark)}
</style>
{% block extra_css %}{% endblock %}
</head>
<body>

<!-- Header -->
<header id="header">
<div class="header-inner">
<a class="logo" href="{{ url_for('home') }}"><span class="logo-flower">ü™∑</span><span class="logo-text">Holy<span>Dham</span></span></a>
<nav>
<a href="{{ url_for('home') }}" class="{{ 'active' if request.endpoint == 'home' }}">Home</a>
{% for mod in active_modules[:4] %}
<a href="{{ url_for('module_page', slug=mod.slug) }}" class="{{ 'active' if request.endpoint == 'module_page' and request.view_args.get('slug') == mod.slug }}">{{ mod.name }}</a>
{% endfor %}
<a href="{{ url_for('contact') }}" class="{{ 'active' if request.endpoint == 'contact' }}">Contact</a>
<!-- Inline Search -->
<div class="nav-search-wrap">
<div class="nav-search-box">
<i class="fas fa-search nav-search-icon"></i>
<input type="text" id="navSearchInput" class="nav-search-input" placeholder="Search dhams, spots, points..." autocomplete="off">
<kbd class="nav-search-kbd">Esc</kbd>
</div>
<div class="nav-search-results" id="navSearchResults"></div>
</div>
</nav>
<button class="mobile-toggle" onclick="document.getElementById('mobileNav').classList.add('open')">‚ò∞</button>
</div>
</header>

<!-- Mobile Nav -->
<div class="mobile-nav" id="mobileNav">
<button class="mobile-nav-close" onclick="this.parentElement.classList.remove('open')">‚úï</button>
<a href="{{ url_for('home') }}">üè† Home</a>
{% for mod in active_modules %}
<a href="{{ url_for('module_page', slug=mod.slug) }}">{{ mod.icon }} {{ mod.name }}</a>
{% endfor %}
<a href="{{ url_for('contact') }}">‚úâÔ∏è Contact</a>
<a href="{{ url_for('about') }}">‚ÑπÔ∏è About Us</a>
</div>

<!-- Main Content -->
<main style="min-height:60vh">
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<div style="position:fixed;top:80px;right:20px;z-index:200;display:flex;flex-direction:column;gap:8px">
{% for cat, msg in messages %}
<div style="background:white;border-radius:12px;padding:14px 20px;box-shadow:0 8px 30px rgba(0,0,0,.1);font-family:'Plus Jakarta Sans',sans-serif;font-size:14px;border-left:4px solid {{ 'var(--sage)' if cat=='success' else 'var(--rose-deep)' if cat=='error' else 'var(--saffron)' }};animation:fadeIn .3s ease">
{{ msg }}
</div>
{% endfor %}
</div>
{% endif %}
{% endwith %}

{% block content %}{% endblock %}
</main>

<!-- Footer -->
<footer>
<div class="footer-inner">
<div class="footer-brand">
<div class="flogo">ü™∑ HolyDham</div>
<p>A spiritual knowledge hub curating India's holiest destinations with love and devotion.</p>
</div>
<div class="footer-col">
<h4>Explore</h4>
<a href="{{ url_for('all_dhams') }}">All Holy Dhams</a>
{% for mod in active_modules[:4] %}
<a href="{{ url_for('module_page', slug=mod.slug) }}">{{ mod.name }}</a>
{% endfor %}
</div>
<div class="footer-col">
<h4>Company</h4>
<a href="{{ url_for('about') }}">About Us</a>
<a href="{{ url_for('contact') }}">Contact</a>
<a href="{{ url_for('privacy') }}">Privacy Policy</a>
<a href="{{ url_for('terms') }}">Terms of Service</a>
</div>
<div class="footer-col">
<h4>Connect</h4>
<a href="{{ url_for('contact') }}">Get In Touch</a>
<a href="{{ url_for('admin_login') }}">Admin Panel</a>
<a href="{{ url_for('all_dhams') }}">Browse Dhams</a>
</div>
</div>
<div class="footer-bottom">
<span>¬© {{ current_year }} Holy Dham CMS. Made with üôè</span>
<span><a href="{{ url_for('privacy') }}" style="color:inherit">Privacy</a> ¬∑ <a href="{{ url_for('terms') }}" style="color:inherit">Terms</a> ¬∑ <a href="{{ url_for('about') }}" style="color:inherit">About</a></span>
</div>
</footer>

<!-- Scroll Up/Down Buttons -->
<div id="scrollBtns" style="position:fixed;right:20px;bottom:20px;z-index:90;display:flex;flex-direction:column;gap:8px;opacity:0;transition:opacity .3s;pointer-events:none">
<button onclick="window.scrollTo({top:0,behavior:'smooth'})" style="width:42px;height:42px;border-radius:50%;background:var(--rose-deep);color:white;border:none;cursor:pointer;font-size:16px;box-shadow:0 4px 16px rgba(199,107,143,.3);transition:all .2s;display:flex;align-items:center;justify-content:center" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='none'"><i class="fas fa-chevron-up"></i></button>
<button onclick="window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'})" style="width:42px;height:42px;border-radius:50%;background:var(--text-dark);color:white;border:none;cursor:pointer;font-size:16px;box-shadow:0 4px 16px rgba(0,0,0,.2);transition:all .2s;display:flex;align-items:center;justify-content:center" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='none'"><i class="fas fa-chevron-down"></i></button>
</div>

<script>
window.addEventListener('scroll',()=>{
  document.getElementById('header').classList.toggle('scrolled',window.scrollY>50);
  const sb=document.getElementById('scrollBtns');
  if(window.scrollY>300){sb.style.opacity='1';sb.style.pointerEvents='auto'}
  else{sb.style.opacity='0';sb.style.pointerEvents='none'}
});
setTimeout(()=>{document.querySelectorAll('[style*="fadeIn"]').forEach(el=>el.style.opacity='0')},4000);

/* ‚ïê‚ïê‚ïê INLINE LIVE SEARCH ‚ïê‚ïê‚ïê */
(function(){
  const inp=document.getElementById('navSearchInput'),box=document.getElementById('navSearchResults');
  if(!inp||!box)return;
  let timer;
  const tierColors={T1:'#C76B8F',T2:'#2E86AB',T3:'#E74845',T4:'#9C27B0'};
  inp.addEventListener('input',function(){
    clearTimeout(timer);
    const q=this.value.trim();
    if(q.length<2){box.classList.remove('active');box.innerHTML='';return}
    timer=setTimeout(()=>{
      fetch('/api/v1/live-search?q='+encodeURIComponent(q))
      .then(r=>r.json()).then(data=>{
        if(!data.length){box.innerHTML='<div class="nsr-empty">No results found. Try a different search term.</div>';box.classList.add('active');return}
        box.innerHTML=data.map(r=>`<a class="nsr-item" href="${r.url}"><span class="nsr-tier" style="background:${tierColors[r.tier]||'#888'}">${r.tier}</span><div><div class="nsr-title">${r.title}</div><div class="nsr-loc">${r.tier_label} ¬∑ ${r.location}</div></div></a>`).join('');
        box.classList.add('active');
      });
    },250);
  });
  inp.addEventListener('keydown',e=>{if(e.key==='Escape'){inp.value='';box.classList.remove('active');inp.blur()}});
  document.addEventListener('click',e=>{if(!e.target.closest('.nav-search-wrap'))box.classList.remove('active')});
})();

/* ‚ïê‚ïê‚ïê GALLERY SLIDER ENGINE ‚Äî Multiple Transitions ‚ïê‚ïê‚ïê */
function initSlider(el) {
    const slides = el.querySelectorAll('.gs-slide');
    const dots = el.querySelectorAll('.gs-dot');
    const counter = el.querySelector('.gs-counter');
    const currentSpan = el.querySelector('.gs-current');
    let cur = 0, total = slides.length, timer, transitioning = false;
    const effects = ['fade','zoom-out','slide-left','slide-right','fade'];
    function show(n) {
        if (transitioning || n === cur) return;
        transitioning = true;
        const prev = cur;
        cur = (n % total + total) % total;
        const effect = effects[cur % effects.length];
        slides[prev].classList.remove('active');
        slides[prev].classList.add(effect === 'zoom-out' ? 'zoom-out' : effect === 'slide-left' ? 'slide-left' : effect === 'slide-right' ? 'slide-right' : 'fade-out');
        slides[cur].classList.remove('fade-out','zoom-out','slide-left','slide-right');
        slides[cur].classList.add('active');
        dots.forEach((d, i) => d.classList.toggle('active', i === cur));
        if (currentSpan) currentSpan.textContent = cur + 1;
        else if (counter) counter.textContent = (cur + 1) + ' / ' + total;
        setTimeout(() => {
            slides[prev].classList.remove('fade-out','zoom-out','slide-left','slide-right');
            transitioning = false;
        }, 1000);
    }
    function auto() { timer = setInterval(() => show(cur + 1), 5000); }
    function reset() { clearInterval(timer); auto(); }
    el.querySelector('.gs-prev')?.addEventListener('click', () => { show(cur - 1); reset(); });
    el.querySelector('.gs-next')?.addEventListener('click', () => { show(cur + 1); reset(); });
    dots.forEach((d, i) => d.addEventListener('click', () => { show(i); reset(); }));
    let tx = 0;
    el.addEventListener('touchstart', e => tx = e.touches[0].clientX, {passive: true});
    el.addEventListener('touchend', e => { const dx = e.changedTouches[0].clientX - tx; if (Math.abs(dx) > 50) { show(dx < 0 ? cur + 1 : cur - 1); reset(); } }, {passive: true});
    el.setAttribute('tabindex', '0');
    el.addEventListener('keydown', e => { if (e.key === 'ArrowLeft') { show(cur - 1); reset(); } if (e.key === 'ArrowRight') { show(cur + 1); reset(); } });
    if (total > 1 && el.dataset.auto !== 'false') auto();
}
document.addEventListener('DOMContentLoaded', () => document.querySelectorAll('.gallery-slider').forEach(initSlider));
</script>
{% block extra_js %}{% endblock %}
</body>
</html>
