{# Icon Picker Dropdown - pass: field_name, current_icon, field_icons list #}
<div class="icon-picker-wrap" style="position:relative;display:inline-block">
<button type="button" class="icon-picker-btn" onclick="toggleIconPicker(this)" style="width:38px;height:38px;border-radius:10px;border:1.5px solid var(--border);background:white;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all .2s" title="Change icon">
<span class="icon-display">{{ current_icon or 'ðŸ“‹' }}</span>
</button>
<input type="hidden" name="{{ field_name }}" value="{{ current_icon or 'ðŸ“‹' }}" class="icon-value">
<div class="icon-picker-dropdown" style="display:none;position:absolute;top:42px;left:0;z-index:100;background:white;border:1.5px solid var(--border);border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,.15);padding:10px;width:280px;max-height:220px;overflow-y:auto">
<div style="display:grid;grid-template-columns:repeat(8,1fr);gap:4px">
{% for icon,label in field_icons %}
<button type="button" class="icon-opt" onclick="selectIcon(this,'{{ icon }}')" title="{{ label }}" style="width:30px;height:30px;border:none;background:none;border-radius:6px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .15s" onmouseover="this.style.background='var(--cream-dark)';this.style.transform='scale(1.2)'" onmouseout="this.style.background='none';this.style.transform='none'">{{ icon }}</button>
{% endfor %}
</div>
</div>
</div>
