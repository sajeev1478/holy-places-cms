{% extends "admin/base.html" %}
{% block title %}Tags & Categories{% endblock %}
{% block page_title %}Tags & Categories{% endblock %}

{% block admin_content %}
<!-- Add Tag Form -->
<div class="admin-card" style="margin-bottom:20px">
<div class="admin-card-body">
<form method="POST" style="display:flex;gap:12px;align-items:end;flex-wrap:wrap">
<div class="form-group" style="margin:0;flex:1;min-width:200px">
<label>Tag Name</label>
<input name="name" class="form-control" required placeholder="e.g. Char Dham, Jyotirlinga...">
</div>
<div class="form-group" style="margin:0;width:200px">
<label>Description</label>
<input name="description" class="form-control" placeholder="Optional description">
</div>
<div class="form-group" style="margin:0;width:100px">
<label>Color</label>
<input name="color" class="form-control" type="color" value="#C76B8F" style="padding:6px;height:44px">
</div>
<button type="submit" class="btn btn-primary"><i class="fas fa-plus"></i> Add Tag</button>
</form>
</div>
</div>

<div class="admin-card">
{% if tags %}
<div style="overflow-x:auto">
<table class="admin-table">
<thead><tr><th>Color</th><th>Name</th><th>Slug</th><th>Description</th><th>Places</th><th>Actions</th></tr></thead>
<tbody>
{% for tag in tags %}
<tr>
<td><span style="width:24px;height:24px;border-radius:6px;background:{{ tag.color }};display:inline-block"></span></td>
<td style="font-weight:600">{{ tag.name }}</td>
<td style="font-size:12px;color:var(--text-light)">{{ tag.slug }}</td>
<td style="font-size:13px;color:var(--text-mid)">{{ tag.description or '‚Äî' }}</td>
<td><span class="badge" style="background:var(--bg)">{{ tag.place_count }}</span></td>
<td>
<form method="POST" action="{{ url_for('admin_tag_delete', tag_id=tag.id) }}" onsubmit="return confirm('Delete tag?')">
<button class="btn btn-danger btn-sm btn-icon"><i class="fas fa-trash"></i></button>
</form>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
{% else %}
<div class="empty"><span class="icon">üè∑Ô∏è</span><h3>No tags yet</h3><p>Create tags to categorize your holy places.</p></div>
{% endif %}
</div>
{% endblock %}
